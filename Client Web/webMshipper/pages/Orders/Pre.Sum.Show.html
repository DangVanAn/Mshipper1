<div id="wrapper">
    <div id="page-wrapper">
        <div id="OrderCreateN">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Đơn hàng chưa phân công</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Bảng dữ liệu
                        </div>
                        <br>

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="col-sm-2">
                                    <button style="width: 150px; float: left" type="button" class="btn btn-primary"
                                            ng-click="verifyRequest()">Xác Nhận Yêu Cầu
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="panel-body">
                            <table ng-table="tableParams" class="table table-condensed table-bordered table-striped">
                                <tr ng-repeat="row in $data">
                                    <td data-title="'STT'" sortable="'stt'">{{$index + 1}}</td>
                                    <td data-title="'Địa Chỉ Lấy Hàng'" filter="{_address_warehouse: 'text'}" sortable="'_address_warehouse'">{{row._address_warehouse}}</td>
                                    <td data-title="'Địa Chỉ Giao Hàng'" filter="{_address_delivery: 'text'}" sortable="'_address_delivery'">{{row._address_delivery}}</td>
                                    <td data-title="'Yêu Cầu'" filter="{_ton: 'number'}" sortable="'_ton'">{{row._ton}}</td>
                                    <td data-title="'Thực Hiện'" filter="{_ton_action: 'number'}" sortable="'_ton_action'"><input style="width: 180px" ng-model="row._ton_action" class="form-control" type="number"></td>
                                    <td data-title="'Loại Xe'" filter="{_type_product: 'text'}" sortable="'_type_product'">{{row._type_product}}</td>
                                    <td data-title="'ETD'" filter="{_etd: 'text'}" sortable="'_etd'">{{row._etd}}</td>
                                    <td data-title="'ETA'" filter="{_eta: 'text'}" sortable="'_eta'">{{row._eta}}</td>
                                </tr>
                            </table>
                        </div>

                        <br>
                        <br>

                        <div class="panel-body">
                            <table ng-table="tableVerifyRequest" class="table table-condensed table-bordered table-td-center">
                                <tr ng-repeat="row in $data track by $index">
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} style="text-align: center" data-title="'STT'" sortable="'stt'">{{$index + 1}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'Địa Chỉ Lấy Hàng'" filter="{_address_warehouse: 'text'}" sortable="'_address_warehouse'">{{row._address_warehouse}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'Địa Chỉ Giao Hàng'" filter="{_address_delivery: 'text'}" sortable="'_address_delivery'">{{row._address_delivery}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'Thực Hiện'" filter="{_ton: 'number'}" sortable="'_ton'">{{row._ton | number}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'Còn Lại'" filter="{_ton_action: 'number'}" sortable="'_ton_action'">{{row._ton_remain | number}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'Loại Xe'" filter="{_type_product: 'text'}" sortable="'_type_product'">{{row._type_product}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'ETD'" filter="{_etd: 'text'}" sortable="'_etd'">{{row._etd}}</td>
                                    <td ng-show="row.showInfo" rowspan={{row.rowspan}} data-title="'ETA'" filter="{_eta: 'text'}" sortable="'_eta'">{{row._eta}}</td>
                                    <td data-title="'Xe Vận Tải'" class="" style="position: relative">
                                        <div style="display: inline-block;" ng-show="row.showInfoDetail">
                                            {{row._number_plate}} | {{row._ton_for_vehicle | number}} tấn | {{row._name_drivers}} | {{row._note_trip}}
                                        </div>

                                        <div ng-show="row.showSelectVehicle" class="buttonTableSelect" style="position: absolute; top: 10%; left: 1%">
                                            <ui-select style="width: 100%" ng-model="row.selectedVehicleSelect.selected" theme="bootstrap" on-select = "selectVehicleSelect($item, row)">
                                                <ui-select-match placeholder="Chọn Xe">{{$select.selected.name}}
                                                </ui-select-match>
                                                <ui-select-choices
                                                        repeat="item as item in vehicleSelects | filter: $select.search">
                                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>

                                        <input ng-show="row.showSelectVehicle" style="width: 160px; margin-left: 165px" type="number" class="form-control buttonTable" ng-model="row.tonPerVehicle" ng-change="changeTonPerVehicle(row)">

                                        <div ng-show="row.showSelectDriver" class="buttonTable buttonTableBtn">
                                            <div ng-dropdown-multiselect="" options="multiDriverData" selected-model="selectedDriverData" extra-settings="multiSelectSettings" translation-texts="multiSelectCustomTexts"></div>
                                        </div>

                                        <input ng-show="row.showNoteTrip" style="width: 160px;" type="text" class="form-control buttonTable" ng-model="row._note_trip">

                                    <td>
                                        <button ng-show="row.showEdit"  class="btn btn-default btn-sm buttonTable buttonTablePad" ng-click="edit2(row, $index)">
                                            <span class="glyphicon glyphicon-pencil"></span>
                                        </button>
                                        <button ng-show="row.showAdd" class="btn btn-success btn-sm buttonTable buttonTablePad" ng-click="add2(row, $index)">
                                            <span class="glyphicon glyphicon-plus"></span>
                                        </button>

                                        <button ng-show="row.showAccept" class="btn btn-primary btn-sm  buttonTable buttonTablePad" ng-click="accept2(row, $index)">
                                            <span class="glyphicon glyphicon-ok"></span>
                                        </button>

                                        <button ng-show="row.showDelete" class="btn btn-danger btn-sm  buttonTable buttonTablePad" ng-click="delete2(row, $index)">
                                            <span class="glyphicon glyphicon-trash"></span>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </div>

                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
        </div>

    </div>
    <!-- /#page-wrapper -->
</div>